---
name: "Claude Terminal"
description: "Terminal interface for Anthropic's Claude Code CLI with persistent auth"
version: "1.5.0"
slug: "claude_terminal"
init: false

# Supported architectures
arch:
  - aarch64
  - amd64
  - armv7

# External resources
url: "https://github.com/anthropics/claude-code"

# Web interface configuration
ingress: true
ingress_port: 7681
panel_icon: mdi:code-braces
panel_title: "Claude Terminal"
panel_admin: true

# Port configuration
ports:
  7681/tcp: 7681
ports_description:
  7681/tcp: "Web terminal (not required for ingress)"

# Add-on configuration options
options:
  auto_launch_claude: true
  auto_resume_session: true
schema:
  auto_launch_claude: bool?
  auto_resume_session: bool?

# Volume mappings for file access
# Security: Consider using config:ro (read-only) if Claude doesn't need to modify HA configs
# Using rw to allow Claude to help with configuration editing - restrict if not needed
map:
  - config:rw    # Access to Home Assistant configuration files (read-write)

# API access for Home Assistant integration
# Security: Reduced permissions from 'manager' to 'default' for least privilege
# Note: 'manager' role allows installing add-ons and system modifications
# If you need elevated API access for advanced use cases, consider:
#   - hassio_role: manager (allows add-on/system management)
#   - homeassistant_api: true (full entity/service access)
# Current settings provide basic functionality without elevated privileges
hassio_api: true
hassio_role: default
homeassistant_api: true
auth_api: false

# Service startup configuration
startup: services

# Web UI access URL
webui: http://[HOST]:[PORT:7681]/
